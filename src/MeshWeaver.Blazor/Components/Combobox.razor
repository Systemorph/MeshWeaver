@using ComboboxAutocomplete = Microsoft.FluentUI.AspNetCore.Components.ComboboxAutocomplete
@using SelectPosition = Microsoft.FluentUI.AspNetCore.Components.SelectPosition
@inherits ListBase<ComboboxControl,Combobox>

<FluentCombobox
    Label="@Label"
    Items="@Options"
    TOption="Option"
    OptionText="@(x => x.Text)"
    OptionValue="@(x => x.ItemString)"
    Autofocus="@Autofocus"
    Autocomplete="@Autocomplete"
    Placeholder="@Placeholder"
    Position="@Position"
    Disabled="@Disabled"
    Class="@Class"
    @bind-SelectedOption="Value">
    @if (IconStart is not null)
    {
        <FluentIcon Value="@IconStart.ToFluentIcon()" Slot="start" />
    }
    @if (IconEnd is not null)
    {
        <FluentIcon Value="@IconEnd.ToFluentIcon()" Slot="end" />
    }

</FluentCombobox>

@code
{
    private ComboboxAutocomplete? Autocomplete;
    private bool Autofocus;
    private SelectPosition? Position;

    protected override void BindData()
    {
        base.BindData();
        DataBind(ViewModel.Autocomplete, x => x.Autocomplete);
        DataBind(ViewModel.Autofocus, x => x.Autofocus);
        DataBind(ViewModel.Position, x => x.Position);
    }

}
