@using MeshWeaver.Messaging
@using Microsoft.JSInterop
@inject IJSRuntime JsRuntime;

<FluentDesignTheme @bind-Mode="@Mode"
                   StorageName="theme" />
<HeadContent>
    @if (Mode == DesignThemeModes.Light)
    {
        <link href="_content/MeshWeaver.Blazor/node_modules/highlight.js/styles/github.min.css" rel="stylesheet"/>
    }
    else
    {
        <link href="_content/MeshWeaver.Blazor/node_modules/highlight.js/styles/github-dark.min.css" rel="stylesheet"/>
    }
    <link href="_content/MeshWeaver.Blazor/node_modules/@@primer/css/dist/markdown.css" rel="stylesheet"/>
</HeadContent>

<article @ref="Element" class="markdown-body">
    @((RenderFragment)RenderHtml) 
</article>

@code {
    private DesignThemeModes Mode;
    [Parameter] public string Html { get; set; }
    [Parameter] public IMessageHub Hub { get; set; }
    private ElementReference Element;

}
