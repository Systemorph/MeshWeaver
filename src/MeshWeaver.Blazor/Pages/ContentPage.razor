@page "/content/{Collection}/{**Path}"
@inject NavigationManager NavigationManager

@if (!string.IsNullOrEmpty(ErrorMessage))
{
    <div class="error-container">
        <div style="padding: 1rem; background-color: #fef2f2; border: 1px solid #fecaca; border-radius: 0.375rem; margin-bottom: 1rem;">
            <div style="color: #991b1b; font-weight: 600;">Error</div>
            <div style="color: #dc2626;">@ErrorMessage</div>
        </div>
        <div class="error-content">
            <h1>Collection Not Found</h1>
            <p>The collection <strong>@Collection</strong> does not exist.</p>
            <p>Please check the URL or contact an administrator.</p>
        </div>
    </div>
}
else if(ContentType == "text/markdown")
{
    <LayoutArea Address="@PortalApplication.Hub.Address" Area="Content" Id="@(Collection + '/' + Path)"/>
}
else if (Content != null)
{
    if (ContentType?.StartsWith("image/") == true)
    {
        <img src="data:@ContentType;base64,@Convert.ToBase64String(ReadStream(Content))" />
    }
    else if (ContentType == "text/plain")
    {
        <pre>@ReadStreamAsString(Content)</pre>
    }
    else if (ContentType == "application/pdf")
    {
        <iframe src="data:application/pdf;base64,@Convert.ToBase64String(ReadStream(Content))" width="100%" height="600px"></iframe>
    }
    else if (ContentType == "application/json")
    {
        <pre>@ReadStreamAsString(Content)</pre>
    }
    else
    {
        <p>Unsupported content type: @ContentType</p>
    }
}

